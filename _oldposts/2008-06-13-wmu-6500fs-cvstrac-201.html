--- 
name: wmu-6500fs-cvstrac-201
layout: post
time: 2008-06-13 22:23:00 +02:00
title: WMU-6500FS - cvstrac 2.0.1
---
<b>Build results:</b>
<a href="http://philodej.googlepages.com/cvstrac-2.0.1-3.tgz">[binary]</a>
<a href="http://philodej.googlepages.com/cvstrac-2.0.1-3.lst">[files list]</a>
<br/>
<b>Info sources:</b>
<a href="http://www.cvstrac.org">[cvstrac site]</a>
<a href="http://www.cvstrac.org/cvstrac/wiki?p=ColoredDiffs">[cvstrac colored diffs]</a>
<br/>
<br/>
<span class="fullpost">
<b>Build sequence:</b>
<pre class="code">
dev# cd /usr/local/src
dev# wget <a href="http://www.cvstrac.org/cvstrac-2.0.1.tar.gz">http://www.cvstrac.org/cvstrac-2.0.1.tar.gz</a>
dev# tar xzvf cvstrac-2.0.1.tar.gz
dev# cd cvstrac-2.0.1
dev# cp linux-gcc.mk Makefile
</pre>
Customize <i>Makefile</i> <br/>
(build dir need not be necessary the same as source dir, you have to alter <i>SRCDIR</i> accordingly. Also the <i>INSTALLDIR</i> can be for example set to <i>/mnt/C/sys/var/www/cgi-bin</i> in case you want to run it as CGI)
<pre class="code">
dev# nano Makefile

SRCDIR = .

INSTALLDIR = /mnt/C/sys/bin
</pre>
If you have not set the include and lib directories to <i>sys</i> you have to modify also the <i>main.mk</i>:
<pre class="code">
dev# nano main.mk

XTCC = $(TCC) $(CFLAGS) -I. -I$(SRCDIR) <b>-I/mnt/C/sys/include</b>

$(TCC) -o $(APPNAME) $(OBJ) $(LIBSQLITE) <b>-L/mnt/C/sys/lib</b>
</pre>
Make the application
<pre class="code">
dev# make
</pre>
<b>Error</b>
<br/>
Undefined reference to <i>sqlite3StrICmp</i> and similar symbols. It seems that 2.0.1 release used a non-public part of SQLite interface and in a recent version of SQLite the referenced functions disappeared.
<br/>
Fortunately there is a patch 2.0.1-3 solving the problem:
<pre class="code">
dev# cd ..
dev# wget <a href="http://ftp.de.debian.org/debian/pool/main/c/cvstrac/cvstrac_2.0.1-3.diff.gz">http://ftp.de.debian.org/debian/pool/main/c/cvstrac/cvstrac_2.0.1-3.diff.gz</a>
dev# gunzip cvstrac_2.0.1-3.diff.gz
dev# patch -p0 < cvstrac_2.0.1-3.diff
dev# cd cvstrac-2.0.1
</pre>
Or alternatively you can download the development version directly from their CVS:
<pre class="code">
dev# cvs -d :pserver:anonymous@cvstrac.org:/cvstrac login
dev# cvs -d :pserver:anonymous@cvstrac.org:/cvstrac checkout cvstrac
</pre>
When prompted for a password, enter "anonymous". For more info see <a href="http://www.cvstrac.org/cvstrac/wiki?p=DownloadCvstrac">[cvstrac download]</a>.
<br/>
<br/>
We are ready to build all the three available variants:
<pre class="code">
dev# make
dev# make install
dev# make APPNAME=svntrac
dev# make install APPNAME=svntrac
dev# make APPNAME=gittrac
dev# make install APPNAME=gittrac
</pre>
Now we have the application(s) installed and can launch it. Root can neither initialize a project nor launch the server (actually it is possible but you have to launch it in chroot jail), for more info see <a href="http://www.cvstrac.org/cvstrac/wiki?p=CvstracInstallation">[installation]</a> and <a href="http://www.cvstrac.org/cvstrac/wiki?p=ChrootJailForCvstrac">[chroot jail]</a>.
<pre class="code">
dev# su <b>&lt;user&gt;</b>
dev# gittrac init /mnt/C/sys/var/git <b>&lt;project&gt;</b>
dev# gittrac server 8008 /mnt/C/sys/var/git/ <b>&lt;project&gt;</b> &amp;
</pre>
</span><div class="blogger-post-footer"><img width='1' height='1' src='https://blogger.googleusercontent.com/tracker/183431720687819497-4480654230874796133?l=filodej.blogspot.com' alt='' /></div>
